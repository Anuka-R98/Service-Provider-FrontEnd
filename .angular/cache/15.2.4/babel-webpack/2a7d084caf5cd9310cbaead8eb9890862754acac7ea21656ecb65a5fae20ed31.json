{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"ngx-toastr\";\nfunction ListUsersComponent_tr_37_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r4.name);\n  }\n}\nfunction ListUsersComponent_tr_37_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"a\", 33);\n    i0.ɵɵlistener(\"click\", function ListUsersComponent_tr_37_td_9_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const user_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onclickEdit(user_r1));\n    });\n    i0.ɵɵelementStart(2, \"i\", 34);\n    i0.ɵɵtext(3, \"\\uE254\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function ListUsersComponent_tr_37_td_9_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const user_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onclickDelete(user_r1.id));\n    });\n    i0.ɵɵelementStart(5, \"i\", 36);\n    i0.ɵɵtext(6, \"\\uE872\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"admin\": a0,\n    \"user\": a1,\n    \"provider\": a2\n  };\n};\nfunction ListUsersComponent_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 29)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 30);\n    i0.ɵɵtemplate(8, ListUsersComponent_tr_37_li_8_Template, 2, 1, \"li\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ListUsersComponent_tr_37_td_9_Template, 7, 0, \"td\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.phoneNo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(6, _c0, user_r1.roles[0].name === \"ROLE_ADMIN\", user_r1.roles[0].name === \"ROLE_USER\", user_r1.roles[0].name === \"ROLE_SERVICE_PROVIDER\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", user_r1.roles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isUserOrProvider(user_r1));\n  }\n}\nexport let ListUsersComponent = /*#__PURE__*/(() => {\n  class ListUsersComponent {\n    constructor(userService, toastr) {\n      this.userService = userService;\n      this.toastr = toastr;\n      this.searchTerm = '';\n      this.editingUser = {\n        id: '',\n        username: '',\n        email: '',\n        password: '',\n        phoneNo: '',\n        roles: []\n      };\n      this.deleteModel = document.getElementById('deleteModal');\n    }\n    ngOnInit() {\n      this.getUserList();\n    }\n    getUserList() {\n      this.userService.getUsers().subscribe(response => {\n        this.userList = response;\n      });\n    }\n    filteredUsers() {\n      return this.userList.filter(user => user.username.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    }\n    deleteUser() {\n      this.userService.deleteUser(this.deletingUserid).subscribe(response => {\n        console.log(response);\n      });\n      this.toastr.success('User Deleted successfully!', 'Success');\n      this.getUserList();\n    }\n    /* delete user */\n    onclickDelete(id) {\n      this.deletingUserid = id;\n    }\n    /* role checking, used in to hide/apear actions to perform */\n    isUserOrProvider(user) {\n      const hasRoleUser = user.roles.find(role => role.name === 'ROLE_USER');\n      const hasRoleProvider = user.roles.find(role => role.name === 'ROLE_SERVICE_PROVIDER');\n      return hasRoleUser || hasRoleProvider;\n    }\n    /* get user data to edit action */\n    onclickEdit(user) {\n      this.editingUser.id = user.id;\n      this.editingUser.username = user.username, this.editingUser.email = user.email, this.editingUser.phoneNo = user.phoneNo, this.editingUser.roles = user.roles;\n    }\n  }\n  ListUsersComponent.ɵfac = function ListUsersComponent_Factory(t) {\n    return new (t || ListUsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ToastrService));\n  };\n  ListUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListUsersComponent,\n    selectors: [[\"app-list-users\"]],\n    decls: 71,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"table-responsive\"], [1, \"table-wrapper\"], [1, \"table-title\"], [1, \"row\"], [1, \"col-xs-6\"], [2, \"text-align\", \"center\"], [\"data-toggle\", \"modal\", \"routerLink\", \"/add-user\", 1, \"btn\", \"btn-success\", 2, \"background-color\", \"#12c15b\"], [1, \"material-icons\"], [1, \"hint-text\"], [1, \"form-outline\", \"mb-4\"], [\"type\", \"search\", \"id\", \"datatable-search-input\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"datatable-search-input\", 1, \"form-label\"], [1, \"table\", \"table-hover\"], [\"style\", \"font-weight:500\", 4, \"ngFor\", \"ngForOf\"], [1, \"clearfix\"], [\"id\", \"updateModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\", \"fs-5\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"user1\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"deleteModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"rel\", \"stylesheet\", \"href\", \"https://fonts.googleapis.com/icon?family=Material+Icons\"], [2, \"font-weight\", \"500\"], [3, \"ngClass\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"href\", \"#updateModal\", \"data-bs-toggle\", \"modal\", 1, \"edit\", 3, \"click\"], [\"data-toggle\", \"tooltip\", \"title\", \"Edit\", 1, \"material-icons\"], [\"href\", \"#deleteModal\", \"data-bs-toggle\", \"modal\", 1, \"delete\", 3, \"click\"], [\"data-toggle\", \"modal\", \"title\", \"Delete\", 1, \"material-icons\"]],\n    template: function ListUsersComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h2\", 6);\n        i0.ɵɵtext(7, \"Manage Users\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 5)(9, \"a\", 7)(10, \"i\", 8);\n        i0.ɵɵtext(11, \"\\uE147\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"span\");\n        i0.ɵɵtext(13, \"Add New User\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵtext(15, \"Showing \");\n        i0.ɵɵelementStart(16, \"b\");\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(18, \" entries\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(19, \"div\", 10)(20, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function ListUsersComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"label\", 12);\n        i0.ɵɵtext(22, \"Search\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"table\", 13)(24, \"thead\")(25, \"tr\")(26, \"th\");\n        i0.ɵɵtext(27, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"th\");\n        i0.ɵɵtext(31, \"Phone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"th\");\n        i0.ɵɵtext(33, \"Role\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\");\n        i0.ɵɵtext(35, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"tbody\");\n        i0.ɵɵtemplate(37, ListUsersComponent_tr_37_Template, 10, 10, \"tr\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"div\", 15)(39, \"div\", 9);\n        i0.ɵɵtext(40, \"Showing \");\n        i0.ɵɵelementStart(41, \"b\");\n        i0.ɵɵtext(42);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(43, \" entries\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(44, \"div\", 16)(45, \"div\", 17)(46, \"div\", 18)(47, \"div\", 19)(48, \"h1\", 20);\n        i0.ɵɵtext(49, \"Update User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(50, \"button\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"div\", 22);\n        i0.ɵɵelement(52, \"app-edit-user\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 24)(54, \"button\", 25);\n        i0.ɵɵtext(55, \" Close \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(56, \"div\", 26)(57, \"div\", 17)(58, \"div\", 18)(59, \"div\", 19)(60, \"h1\", 20);\n        i0.ɵɵtext(61, \"Delete User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(62, \"button\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"div\", 22);\n        i0.ɵɵtext(64, \"Do You Want To Delete User?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"div\", 24)(66, \"button\", 27);\n        i0.ɵɵlistener(\"click\", function ListUsersComponent_Template_button_click_66_listener() {\n          return ctx.deleteUser();\n        });\n        i0.ɵɵtext(67, \" Delete \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"button\", 25);\n        i0.ɵɵtext(69, \" Close \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(70, \"link\", 28);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵtextInterpolate(ctx.userList.length);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredUsers());\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.userList.length);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"user1\", ctx.editingUser);\n      }\n    },\n    styles: [\"body[_ngcontent-%COMP%]{color:#566787;background:#f5f5f5;font-family:Varela Round,sans-serif;font-size:15px}.table-responsive[_ngcontent-%COMP%]{margin:30px 0}.table-wrapper[_ngcontent-%COMP%]{min-width:1000px;background:#e4e3e33c;padding:20px 25px;border-radius:3px;box-shadow:0 1px 1px #0000000d}.table-title[_ngcontent-%COMP%]{background:linear-gradient(to right,#1773a4bb,#64224f61);color:#fff;padding:16px 30px;margin:-20px -25px 10px;border-radius:3px 3px 0 0}.table-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:24px}.table-title[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{float:right}.table-title[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;float:right;font-size:13px;min-width:50px;border-radius:2px;border:none;outline:none!important;margin-left:10px}.table-title[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:left;font-size:21px;margin-right:5px}.table-title[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;margin-top:2px}table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#cdc5c5;padding:12px 15px;vertical-align:middle}table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:60px}table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:100px}table.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f5f5f5}table.table-striped.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}table.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px;margin:0 5px;cursor:pointer}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   i[_ngcontent-%COMP%]{opacity:.9;font-size:22px;margin:0 5px}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#4f607f;display:inline-block;text-decoration:none;outline:none!important}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2196f3}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.edit[_ngcontent-%COMP%]{color:#ffc107}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a.delete[_ngcontent-%COMP%]{color:#f44336}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:19px}table.table[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:50%;vertical-align:middle;margin-right:10px}.hint-text[_ngcontent-%COMP%]{float:left;margin-top:10px;font-size:13px}.modal-dialog[_ngcontent-%COMP%]{max-width:800px;border-radius:30px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 30px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:3px}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{background:#ecf0f1;border-radius:0 0 3px 3px}.modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:inline-block}.modal[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:2px;box-shadow:none;border-color:#ddd}.modal[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:2px;min-width:100px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}th[_ngcontent-%COMP%]{font-size:1.2em}.admin[_ngcontent-%COMP%]{color:#ff4141;font-weight:700}.user[_ngcontent-%COMP%]{color:#2ed12e;font-weight:700}.provider[_ngcontent-%COMP%]{color:#006aff;font-weight:700}\"]\n  });\n  return ListUsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}