{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(userService, userAuthService, router, toastr) {\n    this.userService = userService;\n    this.userAuthService = userAuthService;\n    this.router = router;\n    this.toastr = toastr;\n  }\n  ngOnInit() {}\n  login(loginForm) {\n    this.userService.login(loginForm.value).subscribe(response => {\n      this.userAuthService.setRoles(response.roles);\n      this.userAuthService.setToken(response.token);\n      this.userAuthService.setId(response.id);\n      this.userAuthService.setUserName(response.username);\n      this.userAuthService.setEmail(response.email);\n      this.userAuthService.setPhone(response.phoneNo);\n      const role = response.roles[0];\n      if (role === 'ROLE_ADMIN') {\n        this.router.navigate(['/admin']);\n        this.toastr.success('Login successful!', 'Welcome Admin');\n      } else if (role === 'ROLE_SERVICE_PROVIDER') {\n        this.router.navigate(['/provider']);\n        this.toastr.success('Login successful!', 'Welcome Service Provider');\n      } else {\n        this.router.navigate(['/user']);\n        this.toastr.success('Login successful!', 'Welcome User');\n      }\n    }, error => {\n      console.log(error);\n      this.toastr.error('Login failed!', 'Error');\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}