{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ViewServiceComponent = class ViewServiceComponent {\n  constructor(route, serviceService, ratingService, userAuthService, toastr) {\n    this.route = route;\n    this.serviceService = serviceService;\n    this.ratingService = ratingService;\n    this.userAuthService = userAuthService;\n    this.toastr = toastr;\n    this.showRatingInput = false;\n  }\n  ngOnInit() {\n    const serviceId = this.route.snapshot.params['id'];\n    this.serviceService.getServiceById(serviceId).subscribe(service => {\n      this.service = service;\n    }, error => {\n      console.log(error);\n    });\n  }\n  onAddRatingClick() {\n    this.showRatingInput = true;\n  }\n  onSubmitRating() {\n    if (this.ratingValue < 0 || this.ratingValue > 10) {\n      this.toastr.warning('Please enter a number between 0 and 10! ', 'Error');\n      return;\n    }\n    const serviceId = this.service.id;\n    const userId = this.userAuthService.getId();\n    const rating = {\n      rating: Number(this.ratingValue.toFixed(1)),\n      userId: userId,\n      serviceId: serviceId\n    };\n    this.ratingService.createRating(userId, serviceId, rating).subscribe(response => {\n      console.log(response);\n      this.showRatingInput = false;\n      this.toastr.success(`Rating added successfully!`, 'Success');\n    }, error => {\n      this.toastr.error('Error adding rating! ', 'Error');\n    });\n  }\n};\nViewServiceComponent = __decorate([Component({\n  selector: 'app-view-service',\n  templateUrl: './view-service.component.html',\n  styleUrls: ['./view-service.component.css']\n})], ViewServiceComponent);\nexport { ViewServiceComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}