{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/service.service\";\nimport * as i3 from \"src/app/services/rating.service\";\nimport * as i4 from \"src/app/services/user-auth.service\";\nimport * as i5 from \"ngx-toastr\";\nfunction ViewServiceComponent_button_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ViewServiceComponent_button_37_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showRatingInput = true);\n    });\n    i0.ɵɵtext(1, \"Add Rating\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewServiceComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"label\", 27);\n    i0.ɵɵtext(2, \"Enter your rating (out of 10):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function ViewServiceComponent_div_38_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.ratingValue = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 29);\n    i0.ɵɵtext(5, \" Please enter a number between 1 and 10. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ViewServiceComponent_div_38_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onSubmitRating());\n    });\n    i0.ɵɵtext(7, \"Submit\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.ratingValue);\n  }\n}\nexport let ViewServiceComponent = /*#__PURE__*/(() => {\n  class ViewServiceComponent {\n    constructor(route, serviceService, ratingService, userAuthService, toastr) {\n      this.route = route;\n      this.serviceService = serviceService;\n      this.ratingService = ratingService;\n      this.userAuthService = userAuthService;\n      this.toastr = toastr;\n      this.showRatingInput = false;\n    }\n    ngOnInit() {\n      const serviceId = this.route.snapshot.params['id'];\n      this.serviceService.getServiceById(serviceId).subscribe(service => {\n        this.service = service;\n      }, error => {\n        console.log(error);\n      });\n    }\n    onAddRatingClick() {\n      this.showRatingInput = true;\n    }\n    onSubmitRating() {\n      if (this.ratingValue < 0 || this.ratingValue > 10) {\n        this.toastr.warning('Please enter a number between 0 and 10! ', 'Error');\n        return;\n      }\n      const serviceId = this.service.id;\n      const userId = this.userAuthService.getId();\n      const rating = {\n        rating: Number(this.ratingValue.toFixed(1)),\n        userId: userId,\n        serviceId: serviceId\n      };\n      this.ratingService.createRating(userId, serviceId, rating).subscribe(response => {\n        console.log(response);\n        this.showRatingInput = false;\n        this.toastr.success(`Rating added successfully!`, 'Success');\n      }, error => {\n        this.toastr.error('Error adding rating! ', 'Error');\n      });\n    }\n  }\n  ViewServiceComponent.ɵfac = function ViewServiceComponent_Factory(t) {\n    return new (t || ViewServiceComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ServiceService), i0.ɵɵdirectiveInject(i3.RatingService), i0.ɵɵdirectiveInject(i4.UserAuthService), i0.ɵɵdirectiveInject(i5.ToastrService));\n  };\n  ViewServiceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewServiceComponent,\n    selectors: [[\"app-view-service\"]],\n    decls: 50,\n    vars: 9,\n    consts: [[1, \"vh-100\", 2, \"background-color\", \"#f4f5f7\"], [1, \"container\", \"py-5\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [2, \"text-align\", \"center\"], [1, \"col\", \"col-lg-8\", \"mb-4\", \"mb-lg-5\"], [1, \"card\", \"mb-3\", 2, \"border-radius\", \".5rem\"], [1, \"row\", \"g-0\"], [1, \"col-md-8\"], [1, \"card-body\", \"p-4\"], [1, \"mt-0\", \"mb-4\"], [1, \"row\", \"pt-1\"], [1, \"col-6\", \"mb-3\"], [1, \"text-muted\"], [1, \"d-flex\", \"justify-content-start\"], [\"type\", \"button\", \"class\", \"btn btn-primary btn-lg\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"ms-3\", 4, \"ngIf\"], [\"id\", \"updateModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\", \"fs-5\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-lg\", 3, \"click\"], [1, \"ms-3\"], [\"for\", \"rating-input\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"rating-input\", \"name\", \"rating-input\", \"min\", \"0\", \"max\", \"10\", \"step\", \"0.1\", \"required\", \"\", \"pattern\", \"^(10|[1-9](\\\\.\\\\d)?)$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"invalid-feedback\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mt-3\", 3, \"click\"]],\n    template: function ViewServiceComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n        i0.ɵɵtext(4, \"Service Info\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"h2\");\n        i0.ɵɵtext(11, \" Service Information\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"hr\", 9);\n        i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11)(15, \"h5\");\n        i0.ɵɵtext(16, \"Service Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p\", 12);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 11)(20, \"h5\");\n        i0.ɵɵtext(21, \"Service Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"p\", 12);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(24, \"hr\", 9);\n        i0.ɵɵelementStart(25, \"div\", 10)(26, \"div\", 11)(27, \"h5\");\n        i0.ɵɵtext(28, \"Average Ratings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"p\");\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 11)(32, \"h5\");\n        i0.ɵɵtext(33, \"Contact No\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"p\", 12);\n        i0.ɵɵtext(35);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"div\", 13);\n        i0.ɵɵtemplate(37, ViewServiceComponent_button_37_Template, 2, 0, \"button\", 14);\n        i0.ɵɵtemplate(38, ViewServiceComponent_div_38_Template, 8, 1, \"div\", 15);\n        i0.ɵɵelementEnd()()()()()()()()();\n        i0.ɵɵelementStart(39, \"div\", 16)(40, \"div\", 17)(41, \"div\", 18)(42, \"div\", 19)(43, \"h1\", 20);\n        i0.ɵɵtext(44, \"Update User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"button\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(46, \"div\", 22);\n        i0.ɵɵelementStart(47, \"div\", 23)(48, \"button\", 24);\n        i0.ɵɵtext(49, \" Close \");\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵtextInterpolate(ctx.service.name);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.service.description);\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassMapInterpolate1(\"text-muted rating \", ctx.service.averageRating < 3 ? \"red\" : ctx.service.averageRating >= 7.5 ? \"yellow\" : \"green\", \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.service.averageRating.toFixed(1), \" out of 10 \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.service.phoneNo);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showRatingInput);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showRatingInput);\n      }\n    },\n    styles: [\".card[_ngcontent-%COMP%]{background:linear-gradient(to right bottom,rgba(101,246,229,.169),rgba(227,253,133,.338));border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026}.card-body[_ngcontent-%COMP%]{font-size:1.2rem}.col-md-4[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-bottom-left-radius:.5rem;padding:2rem}.col-md-8[_ngcontent-%COMP%]{padding:2rem}h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:2rem;text-align:center}.card[_ngcontent-%COMP%]   .fa-edit[_ngcontent-%COMP%]:hover{transform:scale(1.6)}.modal-dialog[_ngcontent-%COMP%]{max-width:800px;border-radius:30px}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:20px 30px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:3px}.modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{background:#ecf0f1;border-radius:0 0 3px 3px}.modal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{display:inline-block}.modal[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:2px;box-shadow:none;border-color:#ddd}.modal[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.modal[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:2px;min-width:100px}.modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}hr[_ngcontent-%COMP%]{height:1px;border:none;background-color:#5d5858;margin:1rem 0}.btn-primary[_ngcontent-%COMP%]{font-size:18px;font-weight:400;padding:10px 30px;border-radius:5px;background-color:#52d3b3c7;border:none;cursor:pointer;transition:all .3s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#fca80d;border-color:orange}.red[_ngcontent-%COMP%]{color:red}.yellow[_ngcontent-%COMP%]{color:#ff0}.green[_ngcontent-%COMP%]{color:green}\"]\n  });\n  return ViewServiceComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}